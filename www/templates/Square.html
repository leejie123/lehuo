
<!-- 这个是公用模版home和square -->
<ion-view view-title="广场" hide-nav-bar="">
  <ion-nav-buttons side="left">
    <button class="button button-icon ion-ios-arrow-thin-left" ng-click="$ionicGoBack()">
    </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
  	<button class="button button-icon ion-compose"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="list" ng-if="isHome">
      <div class="item item-avatar">
        <img src="http://placehold.it/200x200">
        <h2>{{user.username || userDefault.username}}</h2>
        <div class="row row-no-padding">
          <div class="col col-33" ng-click="note()">{{user.note || userDefault.note}}<br/><small style="font-size:9px;">笔记</small></div>
          <div class="col col-33"  ng-click="showFollowing('following')">{{user.following || userDefault.following}}<br/><small style="font-size:9px;">关注</small></div>
          <div class="col col-33" ng-click="showFollowing('follower')">{{user.follower || userDefault.follower}}<br/><small style="font-size:9px;">关注者</small></div>
        </div>
      </div>
    </div>
  	<div class="card" ng-repeat="item in square" class="item-remove-animate">
  		<div class="item item-avatar">
  			<img src="{{item.avatar}}">
  			<h2>{{item.name}}</h2>
  			<p>{{item.time}}</p>
  		</div>
  		<div class="item item-body" ng-href="ds">
  			<div style="color:#666;font-size:14px;">{{item.content}}</div> 
        <p class="">
          <a href="#" class="subdued" ng-click="likeNote()"><i class="icon ion-ios-heart"></i> {{item.liked}} Like</a>
          <a class="subdued" style="float:right;" ng-click="delNote(item)" ng-if="isHome"><i class="icon ion-ios-trash"></i> Del</a>
          <a href="#" class="subdued" ng-if="!isHome" style="float:right;margin-right:8px;"><i class="icon ion-chatbox-working"></i> {{item.common}} Comm</a>
        </p> 
      </div>   
  	</div> 
  </ion-content>
  <div class="bar bar-footer" ng-if="false">
    <div class="button " ng-click="note()" style="width:100%;">
        <i class="icon ion-compose"></i>
        添加评论
      </div>
	  		<!-- <label class="item-input-wrapper">
  				<i class="icon ion-compose"></i>  			
  				<input type="" placeholder="dfio" name="">
  			</label>
	  		<button class="button-small button">Submit</button> -->
  </div>
</ion-view>

<script type="text/ng-template" id="writingNote.html">
  <ion-modal-view>
    <<ion-header-bar align-title="center" class="bar-dark">
      <div class="buttons">
        <button class="button button-clear button-small " ng-click="closeNote()">取消</button>
      </div>
      <h1 class="title">添加笔记</h1> 
    </ion-header-bar>
    <ion-content>
      <form ng-submit="addNote()">  
        <div class="list"> 
          <div class="item item-input">
            <input type="text" placeholder="请输入标题" ng-model="addNoteData.name">
          </div>
          <div class="item">
            <textarea style="width:100%;height:100px;" placeholder="在这里填写笔记" ng-model="addNoteData.content"></textarea>
          </div>
          <div class="item">
            <button class="button button-block button-small button-assertive" type="submit">完成</button>
          </div>
        </div>
      </form>
    </ion-content>
  </ion-modal-view>
</script>